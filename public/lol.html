<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Use correct character set. -->
  <meta charset="utf-8">
  <!-- Tell IE to use the latest, best version. -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!-- Make the application on mobile take up the full browser screen and disable user scaling. -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
  <title>Hello World!</title>
  <link rel="stylesheet" href="front-source/scss/main.css">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,400i,600,700&amp;subset=cyrillic-ext" rel="stylesheet">
  <script src="/Cesium.js"></script>
  <script src="/bundle.js"></script>
  <script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>
  <script src="/jquery.nice-select.min.js"></script>
  <style>
      @import url(/Widgets/widgets.css);
      html, body, #cesiumContainer {
          width: 100%; height: 100%; margin: 0; padding: 0; overflow: hidden;
      }
  </style>
</head>
<body class="body-push">
  <nav class="menu" id="theMenu">
		<div class="menu-wrap">
			<h1>We have got your data!</h1>
      <p>Assign functionality to fields:</p>
			<div class="filter-table">
			  <ul class="filter-table__header">
			    <li>Field name</li>
          <li>Function</li>
          <li>Use</li>
			  </ul>
        <ul class="filter-table__body">
          <li>geocode</li>
          <li>
            <select>
              <option value="1">coordinates</option>
              <option value="2">ola</option>
              <option value="3" disabled="">olala</option>
              <option value="4">olalalalala</option>
            </select>
          </li>
          <li>
              <input class="styled-checkbox" id="styled-checkbox-1" type="checkbox" value="value1">
              <label for="styled-checkbox-1"></label>
          </li>
        </ul>
        <ul class="filter-table__body">
          <li>geocode</li>
          <li>
            <select>
              <option value="1">coordinates</option>
              <option value="2">ola</option>
              <option value="3" disabled="">olala</option>
              <option value="4">olalalalala</option>
            </select>
          </li>
          <li>
              <input class="styled-checkbox" id="styled-checkbox-1" type="checkbox" value="value1">
              <label for="styled-checkbox-1"></label>
          </li>
        </ul>
			</div>
      <button class="menu__button">Start viz magic!</button>
		</div>

		<!-- Menu button -->
		<div id="menuToggle" class="active"><i class="icon-reorder"></i></div>
	</nav>
  <!-- <div class="switch">
    <input id="cmn-toggle-1" class="cmn-toggle cmn-toggle-round" type="checkbox">
    <label for="cmn-toggle-1"></label>
  </div> -->

  <!-- <div class="hi-block">
    <div class="hi-block__text">
      <h1>ERVIZ</h1>
      <p>create Earth vizualization using your data in json, csv or xls</p>
    </div>

    <div class="hi-block__form">
      <label for="">Project name:</label>
      <input class="first-input" type="text">
      <label for="">Add description:</label>
      <textarea type="text"></textarea>
      <div class="first-btn-container"><button class="hi-block__download-btn">Download dataset</button></div>
      <div><button class="hi-block__show-btn">Show me Earth!</button></div>
    </div>
  </div> -->

  <div class="point-block">
    <h1>Information about point</h1>
    <div class="point-block__text">
      <p class="point-block__title">field4:</p>
      <p class="point-block__desc">Value value value value value value value value value</p>
    </div>
  </div>

  <div id="cesiumContainer"></div>
  <script>
    function randomColor() {
      return Math.random()
    }
    const data = [ {
    "latitude": -0.381,
    "longitude": -160.009,
    "brightness": 313.6,
    "scan": 2,
    "track": 1.4,
    "acq_date": "2017-04-28",
    "acq_time": 35,
    "satellite": "A",
    "confidence": 55,
    "version": "6.0NRT",
    "bright_t31": 296,
    "frp": 24.1,
    "daynight": "D"
  },
  {
    "latitude": -0.381,
    "longitude": -160.009,
    "brightness": 313.6,
    "scan": 2,
    "track": 1.4,
    "acq_date": "2017-04-28",
    "acq_time": 35,
    "satellite": "A",
    "confidence": 55,
    "version": "6.0NRT",
    "bright_t31": 296,
    "frp": 24.1,
    "daynight": "D"
  },
  {
    "latitude": -12.985,
    "longitude": 141.686,
    "brightness": 319.7,
    "scan": 1.1,
    "track": 1,
    "acq_date": "2017-04-28",
    "acq_time": 100,
    "satellite": "T",
    "confidence": 76,
    "version": "6.0NRT",
    "bright_t31": 290.8,
    "frp": 15.1,
    "daynight": "D"
  },
  {
    "latitude": -12.986,
    "longitude": 141.696,
    "brightness": 315.2,
    "scan": 1.1,
    "track": 1,
    "acq_date": "2017-04-28",
    "acq_time": 100,
    "satellite": "T",
    "confidence": 70,
    "version": "6.0NRT",
    "bright_t31": 291.6,
    "frp": 10.3,
    "daynight": "D"
  },
  {
    "latitude": -12.991,
    "longitude": 141.689,
    "brightness": 326.6,
    "scan": 1.1,
    "track": 1,
    "acq_date": "2017-04-28",
    "acq_time": 100,
    "satellite": "T",
    "confidence": 82,
    "version": "6.0NRT",
    "bright_t31": 292.9,
    "frp": 23.1,
    "daynight": "D"
  },
  {
    "latitude": -14.277,
    "longitude": 130.909,
    "brightness": 309.3,
    "scan": 3.1,
    "track": 1.7,
    "acq_date": "2017-04-28",
    "acq_time": 100,
    "satellite": "T",
    "confidence": 48,
    "version": "6.0NRT",
    "bright_t31": 287.2,
    "frp": 25.1,
    "daynight": "D"
  },
  {
    "latitude": -15.605,
    "longitude": 131.288,
    "brightness": 314.5,
    "scan": 2.7,
    "track": 1.6,
    "acq_date": "2017-04-28",
    "acq_time": 100,
    "satellite": "T",
    "confidence": 60,
    "version": "6.0NRT",
    "bright_t31": 287.8,
    "frp": 27.5,
    "daynight": "D"
  },
  {
    "latitude": -16.775,
    "longitude": 137.482,
    "brightness": 311.6,
    "scan": 1.1,
    "track": 1,
    "acq_date": "2017-04-28",
    "acq_time": 100,
    "satellite": "T",
    "confidence": 43,
    "version": "6.0NRT",
    "bright_t31": 300.2,
    "frp": 4.9,
    "daynight": "D"
  }]
    var viewer = new Cesium.Viewer('cesiumContainer', {
      timeline: false,
      animation: false
    })
    var scene = viewer.scene
    for (let i = 0; i < data.length; i++) {
      let elem = data[i]
      var center = Cesium.Cartesian3.fromDegrees(elem.longitude, elem.latitude)
      var size = 250000.0
      var ellipse = new Cesium.EllipseGeometry({
        center,
        semiMajorAxis : size,
        semiMinorAxis : size
      })
      var geometry = Cesium.EllipseGeometry.createGeometry(ellipse);
      var instance = new Cesium.GeometryInstance({
        geometry,
        id: i,
        attributes: {
          color : Cesium.ColorGeometryInstanceAttribute.fromColor(
            new Cesium.Color(randomColor(), randomColor(), randomColor(), 0.5) // Cesium.Color.BLUE.withAlpha(0.5)
          )
        }
      })
      scene.primitives.add(new Cesium.Primitive({
        geometryInstances : instance,
        appearance : new Cesium.PerInstanceColorAppearance()
      }));
    }
    var handler = new Cesium.ScreenSpaceEventHandler(scene.canvas);
    handler.setInputAction(function (movement) {
        var pick = scene.pick(movement.position);
        console.log(pick)
      }, Cesium.ScreenSpaceEventType.LEFT_CLICK);
  </script>
  <script>
  $(document).ready(function() {
    $('select').niceSelect();
  });
  </script>
</body>
</html>
